(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3056e6d6"],{"8b47":function(t,e,o){"use strict";o.r(e);var s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"about"},[o("el-row",[o("el-col",{attrs:{span:8}},[o("img",{staticClass:"center-block",attrs:{src:t.targetBook.imagePath,height:"360"}})]),o("el-col",{attrs:{span:16}},[o("router-link",{attrs:{to:"/abstract/"+t.targetBook.title}},[t._v(t._s(t.targetBook.title))]),o("p",{staticClass:"meta"},[t._v(t._s(t.targetBook.author))]),o("p",{staticClass:"lead"},[t._v(t._s(t.targetBook.mabstract))]),o("el-button",{attrs:{type:"primary"}},[o("router-link",{attrs:{to:"/preview/"+t.targetBook.title}},[t._v("阅读")])],1),o("el-button",{on:{click:t.addCollection}},[t.isInCollection?o("span",[t._v("取消收藏")]):o("span",[t._v("加入收藏")])])],1)],1),o("div",{staticClass:"panel panel-default"},[t._m(0),o("div",{staticClass:"panel-body"},[t._v(" "+t._s(t.targetBook.phases)+" ")])])],1)},a=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"panel-heading"},[o("h3",{staticClass:"panel-title"},[t._v("章节列表")])])}],n={mounted:function(){this.getBookInfo()},data:function(){return{isInCollection:!1,targetBook:{title:"",author:"",mAbstract:"",imagePath:""}}},methods:{getBookInfo:function(){var t=this;this.$http.get("/books/"+this.$route.params.title).then((function(e){t.targetBook=e.data.data}));var e=window.sessionStorage.getItem("token"),o=window.sessionStorage.getItem("username");e?this.$http.get("/collect/"+o+"/collections/"+this.$route.params.title).then((function(e){console.log(e.data),t.isInCollection=e.data.data})):this.isInCollection=!1},addCollection:function(){var t=this,e=window.sessionStorage.getItem("token"),o=window.sessionStorage.getItem("username");e?this.isInCollection?this.$http.delete("/collect/"+o+"/collections/"+this.targetBook.title).then((function(e){200===e.data.code?(t.$message.success("取消成功"),t.getBookInfo()):t.$message.error("取消失败")})):this.$http.post("/user/"+o+"/collections/"+this.targetBook.title).then((function(e){200===e.data.code?(t.$message.success("收藏成功"),t.getBookInfo()):t.$message.error("修改失败")})):this.$router.push("/login")}}},i=n,l=(o("c9e6"),o("2877")),r=Object(l["a"])(i,s,a,!1,null,"06d254ae",null);e["default"]=r.exports},bbef:function(t,e,o){},c9e6:function(t,e,o){"use strict";o("bbef")}}]);
//# sourceMappingURL=chunk-3056e6d6.cf299108.js.map